{"body":"# What's new in AeroGear Controller\r\nWith the M7 release of AeroGear-Controller we have added the following features:\r\n* Error Routes\r\n* CORS support\r\n* RESTful endpoint (partially supported)\r\n\r\n### Error Routes\r\nYou can now configure a route as an error handler for a type of exception:\r\n```java\r\n        route()\r\n               .on(YourException.class)\r\n               .to(ExceptionHandler.class).errorPage(); \r\n```\r\nYou can specify multiple exceptions if needed:\r\n```java\r\n        route()\r\n               .on(YourException.class, SomeOtherException.class)\r\n               .to(ExceptionHandler.class).errorPage();\r\n```               \r\nIf you'd like to log the exception in the error route, you can specify that the target method, errorPage() above, should \r\ntake a parameter:\r\n```java\r\n        route()\r\n               .on(YourException.class, SomeOtherException.class)\r\n               .to(ExceptionHandler.class).errorPage(param(Exception.class));\r\n```\r\nAs mentioned previously in this document a view for ExceptionHandler would in this case be located in:\r\n\r\n        /WEB-INF/pages/ExceptionHandler/errorPage.jsp   \r\n\r\nThe exception is made available to the jsp page:\r\n\r\n        ${requestScope['org.jboss.aerogear.controller.exception']}\r\n        \r\n        \r\n### Cross Origin Resource Sharing  (CORS) Support\r\nCORS is supported by default but can be disabled or configured differently by implementing a CDI Producer:\r\n```java\r\n        @Produces\r\n        public CorsConfiguration demoConfig() {\r\n            return CorsConfig.enableCorsSupport()\r\n                    .anyOrigin()\r\n                    .enableCookies()\r\n                    .exposeHeaders(\"header1\")\r\n                    .maxAge(20)\r\n                    .enableAllRequestMethods()\r\n                    .validRequestHeaders(\"header1\");\r\n    }\r\n```\r\nTo disable CORS support\r\n```java\r\n        @Produces\r\n        public CorsConfiguration demoConfig() {\r\n            return CorsConfig.disableCorsSupport();\r\n        }\r\n```   \r\n### RESTful endpoints\r\nIn previous version of AeroGear-Controller there was only support for forwarding requests to view, in a model-view-controller style. \r\nWith version M7 there is partial support for RESTful endpoints.  \r\nFor example, you can now specify that a Route produces a response:\r\n```java\r\n        route()\r\n                .from(\"/cars\")\r\n                .on(RequestMethod.POST)\r\n                .produces(MediaType.JSON.toString(), MediaType.HTML.toString())\r\n                .to(Home.class).save(param(Car.class));\r\n```\r\nIn the above example, a POST to this route can respond with either JSON or HTML (forwarding to a view) depending on the HTTP Accept Header.\r\nAs mentioned RESTful support is only partially implemented as we still need to be able to consume other formats, like JSON for example. This will be added with CR1 and full support will exist in 1.0.0. \r\n\r\n### What's next\r\n* Support for consuming specific media types. This will enable route to consume and produce JSON or any other type.\r\n* Support for more parameter type like header, cookie parameters.\r\n* Paging\r\n","name":"danbev.github.com","tagline":"Blog","note":"Don't delete this file! It's used internally to help with page regeneration.","google":""}